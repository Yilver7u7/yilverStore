<nav class="p-4 mx-auto">
  <div class="container flex items-center justify-between mx-auto">
    <a routerLink="/" class="flex  text-gray-600 items-center ">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-10 h-10 text-white p-2 bg-indigo-500 rounded-full" viewBox="0 0 24 24">
        <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"></path>
      </svg>
      <span class="ml-3 text-xl">yilverStore</span>
    </a>
    <div class="flex items-center">

<!-- STYLE THE SHOPING CART -->
      <a routerLink="/products" class="mr-6 text-xl">Products</a>
      <div class="relative" (mouseenter)="showCart.set(true)" (mouseleave)="showCart.set(false)">
        <a routerLink="/checkout" class="relative flex items-center">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 25 25"
            fill="none"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            width="32"
            height="32"
            stroke-width="2"
            class="text-gray-700 hover:text-blue-500 transition-colors duration-300"
          >
            <path d="M6 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path>
            <path d="M17 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path>
            <path d="M17 17h-11v-14h-2"></path>
            <path d="M6 5l14 1l-1 7h-13"></path>
          </svg>
          <span
            class="absolute left-7 px-2 text-xs font-bold text-white bg-blue-500 rounded-full -top-1">
            {{cartStore.productsCount()}}
          </span>
        </a>
        @if (showCart() && cartStore.productsCount()) {
        <div
          [ngClass]="{'show-cart-animation': showCart()}"
          class="absolute right-0 z-30 w-64 p-4 mt-2 text-gray-800 bg-white/90 border border-gray-200 shadow-lg rounded-lg transition-all ease-in-out duration-300 sm:w-80"
        >
          @for (product of cartStore.products(); track $index) {
          <div class="flex items-center justify-between">
            <span class="text-sm font-medium text-gray-700">
              {{product.qty}} {{product.title | slice: 0:15}}
              {{product.subtotal || product.price | currency}}
            </span>
          </div>
          <hr class="my-2 border-gray-300" />
          }
          <div class="flex justify-between pt-4 font-light">
            <span class="text-gray-600">Total:</span>
            <span class="font-bold text-lg text-gray-800">
              {{cartStore.totalAmount() | currency}}
            </span>
          </div>
        </div>
        }
      </div>

    </div>
  </div>
</nav>
